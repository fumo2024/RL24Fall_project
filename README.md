# 强化学习课程期末项目
欢迎来到我们的强化学习课程期末项目仓库！本仓库包含了我们在课程期间完成的最终项目代码。

## 关于我们
虽然我们的学校可能不像一些顶尖学府那样广为人知，但我们对于学术的热情和努力是真实的。这个项目是我们团队成员共同智慧与汗水的结晶。

## 代码来源说明
值得注意的是，为了辅助学习和提高效率，我们在开发过程中使用了各种AI工具来生成代码。这些工具帮助我们更好地理解了强化学习的概念，并加速了项目的进展。

## 使用许可
出于对原创性和学术诚信的重视，我们诚挚地请求各位使用者尊重我们的劳动成果。请不要随意在网络上分享或分发本仓库中的代码。如果您确实需要使用其中的任何内容，请确保遵循适当的引用规范，并尽可能联系项目维护者获取授权。

## 社区准则
我们相信一个健康的社区环境对于所有参与者都是至关重要的。因此，我们鼓励大家在使用和贡献时秉持尊重、理解和合作的精神。让我们一起构建一个积极向上的开源社区吧！Ciallo～(∠・ω< )⌒★

感谢您对我们工作的支持与理解。

## 项目简介
### 项目背景介绍
深度强化学习是一种通过环境交互进行学习的方法。它类似于人类的学习过程，根据
外界反馈进行学习。因此，它在物理世界得到广泛应用，例如机器人、互联网、自动
驾驶等。 

本课程以引导学生将强化学习的相关理论应用到科研中为目标，该目标要求学生同时
掌握强化学习的算法理论以及相关算法的实现与应用。本学期的课程已经介绍了许多
经典的深度强化学习理论，包括深度神经网络、多臂老虎机、马尔科夫决策过程、动
态规划法、蒙特卡洛法、时分求解法等。但是，仅仅通过课堂上的理论学习和课下作
业是无法满足本课程的目标的。因此本课程设计了课程大作业，意图通过给定的应用
场景锻炼学生的应用与实践能力，从而为后续研究工作打下坚实的基础。 

考虑到课程中的学生的研究方向不同，若针对某特定领域可能会增加学生理解应用场
景的时间成本，这与本课程的目标是背道而驰的。因此本课程设计一种几乎所有人都
耳熟能详的无禁手五子棋(Gomoku)作为应用场景。无禁手五子棋是一种两人对弈的纯
策略型棋类游戏，通常双方分别使用黑白两色的棋子，下在棋盘直线与横线的交叉点
上，先形成5子连线者获胜。 

结合本次大作业的应用实例，学习强化学习相关方法的使用，从而使学生具备使用强
化学习工具开展研究或应用的良好知识基础。在实现大作业的过程中，学生往往需要
阅读大量的前沿论文，这将加深学生对强化学习基础理论的理解。

### 游戏规则 
对弈双方分别使用黑白两色的棋子，下在棋盘直线与横线的交叉点上，先形成5子连
线者获胜
### 项目具体介绍
我们没有考虑使用传统强化学习得方法来完成这次的项目，相反的，我们考虑在agent中
加入时下最热门的LLM！虽然我们也可以加入更加热门的MLLM，但是经过课程要求的一直
否决后，我们小组内部在方案上达成了一致！

我们考虑利用LLM完成对弈策略的实现与优化，包括但不限于调用LLM获取对弈指导，实
现基于LLM的RL算法等。
### LLM调用说明
我们使用deepseek的api接口:https://api-docs.deepseek.com/zh-cn。使用说明如下：
1. 安装pip install openai==0.28 
2. 调用方式参考官方文档https://api-docs.deepseek.com/zh-cn/，可能根据 openai
库版本有所差异，善用搜索 (实际上我们没有在此过多尝试，有可能以此来做各个LLM之
间的benchmark吗)

```
Python 
# ！pip install openai==0.28 
openai.api_key = API_KEY 
openai.api_base = BASE_URL 
response = openai.ChatCompletion.create( 
  model="deepseek-chat", 
  messages=[ 
    {"role": "system", "content": "You are a helpful 
assistant"}, 
    {"role": "user", "content": "Hello"}, 
    ],
    stream=False 
) 
print(response.choices[0].message.content)
```
### 代码结构说明
1、为了保证大家的apikey安全，我们将它单独放在了`apikey.json`文件中，并且加入了`.gitignore`来防呆。

2、`run_game.sh`为一个简单的shell脚本，在命令行键入`./run_game.sh`以运行。它会将日志文件存放在`run`文件夹下

3、`simulator`文件夹下存放了一个用来模拟五子棋对局的网页工具，在命令行键入`python3 app.py`以运行。目前不支持交互下棋，将准备好的对局信息放在`assets`目录下，就可以可视化对局信息了。

4、各个branch目前的情况
  - observe1，最naive的实现，prompt采取的助教一套，没有在程序上限制落子合法性
  - observe2, 修改了prompt以及在程序上添加了合法性限制，采用的prompt提示LLM输出固定结构语句，再用正则匹配提取的模式
  - observe2R，在observe2的基础上，添加了多轮对话的re_ask机制
  - observe3, 用来实验evaluate效果的实验性分支
  - main, 目前主要的开发分支